<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recetario</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/b48bbd0b76.js" crossorigin="anonymous"></script>


</head>
<header>

    <section class="fixed-header">
        <header class="header">
            <a href="/" class="logo">
                <img src="../src/img/logo.svg" alt="Logo de munchies, tiene una pizza ;9" />
            </a>

            <form>
                <div class="searchBar">
                    <input type="Receta" class="form-search" id="buscar" placeholder="Look for a dish here!">
                    <button class="primaryButton">Search <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </button> <button class="secondaryButton">Random</button>
                </div>

        </header>
    </section>
</header>

<body>

    <section class="Img">
        <p class="Imgheader"></p>
        <img id="platillo" alt="Imagen del platillo">
    </section>

    <section class="ingredients">
        <h2>Ingredients</h2>
        <section class="grid">
            <div class="column">
                <ol class="fa-ul">
                    <li><span class="fa-li"><i class="fas fa-utensils"></i></span>Ingredient 1</li>
                    <li><span class="fa-li"><i class="fas fa-utensils"></i></span>Ingredient 2</li>
                </ol>
            </div>
            <div class="column">
                <ol class="fa-ul">
                    <li><span class="fa-li"><i class="fas fa-utensils"></i></span>Ingredient 1</li>
                    <li><span class="fa-li"><i class="fas fa-utensils"></i></span>Ingredient 2</li>
                </ol>
            </div>
            <div class="column">
                <ol class="fa-ul">
                    <li><span class="fa-li"><i class="fas fa-utensils"></i></span>Ingredient 1</li>
                    <li><span class="fa-li"><i class="fas fa-utensils"></i></span>Ingredient 2</li>
                </ol>
            </div>
        </section>
    </section>

    <section class="procedimiento">
        <div class="pasos">
            <h2>Procedure</h2>
            <article class="paso1">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTpoNglAA7d_RSSDojq2H-Au7m_zsSj_jbX9PFZrV0LeqSfZmBUN6O_9pfAtLHTiZFu1RM&usqp=CAU"
                    alt="Picture of a step of the procedure">
                <p class="indicaciones">sorem ipsum dolor sit amet, consectetur adipiscing elit. Volutpat at
                    placerat sed maecenas. Mauris, libero, sagittis in morbi. Est consequat nulla amet integer.
                    Ligula orci libero, hendrerit urna sit pellentesque ac at et.
                    Convallis dolor gravida pretium sit vitae, fusce. Nec orci fermentum, arcu id aliquam a leo. At
                    blandit eget viverra mauris.</p>
            </article>
            <article class="paso2">
                <p class="indicaciones">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Et leo ultricies
                    nunc, odio egestas eu hac at
                    ut. Accumsan pretium magna id fusce pellentesque. Vitae mattis enim non facilisis amet justo.
                </p>
                <img src="https://gluc.mx/u/fotografias/m/2020/1/9/f638x638-21862_80029_5050.jpg"
                    alt="Picture of another step of the procedure">
            </article>
            <article class="paso3">
                <img src="https://imagenes.canalrcn.com/lomaslike/inline-images/meme%204.jpg"
                    alt="Picture of a step of the procedure">
                <p class="indicaciones">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Volutpat at
                    placerat sed maecenas. Mauris, libero, sagittis in morbi. Est consequat nulla amet integer.
                    Ligula orci libero, hendrerit urna sit pellentesque ac at et.
                    Convallis dolor gravida pretium sit vitae, fusce. Nec orci fermentum, arcu id aliquam a leo. At
                    blandit eget viverra mauris.</p>
            </article>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Volutpat at placerat sed maecenas. Mauris,
                libero, sagittis in morbi. Est consequat nulla amet integer. Ligula orci libero, hendrerit urna sit
                pellentesque ac at et.
                Convallis dolor gravida pretium sit vitae, fusce. Nec orci fermentum, arcu id aliquam a leo. At
                blandit eget viverra mauris.</p>
    </section>




    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            let params = new URLSearchParams(location.search);
            let meal = params.get('meal');
            fetch("https://www.themealdb.com/api/json/v1/1/search.php?s=" + meal) // Solicitud a la API
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    data = data["meals"][0];
                    document.getElementsByClassName("Imgheader")[0].textContent = data["strMeal"];
                    document.getElementById("platillo").src = data["strMealThumb"];
                    document.getElementsByClassName("grid")[0].innerHTML = "";
                    let e = 1;
                    for (let i = 1; i <= 5; i++) {
                        let div = document.createElement("div")
                        div.classList.add("column");
                        let ol = document.createElement("ol")
                        ol.classList.add("fa-ul");
                        if (data["strIngredient" + e]) {
                            let li = document.createElement("li")
                            li.innerHTML += '<span class="fa-li"><i class="fas fa-utensils"> </i> </span>' + data["strMeasure" + e] + " " + data["strIngredient" + e]
                            ol.appendChild(li)
                            console.log(data["strIngredient" + e])
                            e++
                            if (data["strIngredient" + e]) {
                                let li2 = document.createElement("li")
                                li2.innerHTML += '<span class="fa-li"><i class="fas fa-utensils"> </i> </span>' + data["strMeasure" + e] + " " + data["strIngredient" + e]
                                ol.appendChild(li2)
                                e++
                            }

                        }
                        div.appendChild(ol)
                        document.getElementsByClassName("grid")[0].appendChild(div)
                    }
                })
                .catch(function (error) {
                    console.log(error);
                })
        });
        ;
    </script>
</body>

</html>